# 跳表SkipList KV存储引擎 JAVA 实现
---
本项目就是基于 **跳表** 实现的轻量级键值型存储引擎，使用 **JAVA** 实现。  
实现的功能：  
1. 插入数据
2. 删除数据
3. 查询数据 (是否存在)
4. 数据结构展示
5. 数据落盘
6. 文件加载数据
7. 数据库大小显示。

# JDK 版本
---
jdk 11  
# 项目中的文件
---

* pom.xml maven方式创建项目的依赖
* Main.java 小规模测试接口功能的主程序
* SkipList.java 跳表的数据结构实现
* SkipListNode.java 跳表节点的数据结构实现
* StressTest.java 压力测试代码
* SkipListTest.java 测试接口代码
* SkipList.jar 可执行jar文件（运行Main程序）

# 提供接口
---
* insert (插入数据)
* delete (删除数据)
* contains (根据键值查询数据是否存在)
* query (根据键值查询数据)
* save (保存跳表)
* load (加载已保存的跳表)
* show (显示跳表)

# 存储引擎表现
---
本项目采用**多线程插入、查询数据(ThreadPoolExecutor、CountDownLatch)** 来做存储引擎的压力测试。
### 插入数据
---
这里采取的方式是**随机插入数据(key:Integer,value:String)**，所获取的是**按照对应数据量运行五次取平均**得出的数据。  
|插入数据规模(万条)|平均树高(层)|平均耗时(ms)|  
|---|---|---|  
|10|16.4|355.4|  
|50|18.4|1438.0|  
|100|19.4|2923.8|  
|500|22.2|18035.0|  
|1000|23.2|40430.2|  
### 查询数据
---
这里采取的方式是**根据随机key值查询数据**的方式，所获取的是**按照对应数据量运行五次取平均**得出的数据。  
|查询数据规模(万条)|平均树高(层)|平均耗时(ms)|  
|---|---|---|  
|10|16.4|204.2|  
|50|18.4|912.0|  
|100|19.4|1783.6|  
|500|22.2|12035.6|  
|1000|23.2|28800.8|  

# 项目运行方式  
---
无操作系统限制，只需要安装有jdk 11的运行环境即可运行main程序。
执行命令：
```
java -jar 路径/SkipList.jar
```

# 还能优化的点
* 没有将数据结构打包成jar供别的项目使用
* 可以加上一致性协议，再启动一个http server对外提供分布式存储服务
